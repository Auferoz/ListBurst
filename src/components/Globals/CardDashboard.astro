---
/**
 * CardDashboard - Card de estadísticas para dashboards
 *
 * Muestra un número destacado con icono y label.
 * El icono se pasa via <slot /> para máxima flexibilidad.
 *
 * @example
 * <CardDashboard text="Jugando" number={5} color="green">
 *     <IconGamepad width={24} height={24} />
 * </CardDashboard>
 */

interface Props {
    text: string;
    number: number | string;
    color?: 'violet' | 'sky' | 'green' | 'red' | 'amber' | 'zinc';
    id?: string;
}

const { text, number, color = 'violet', id } = Astro.props;

// Mapeo de colores a clases Tailwind
const colorMap: Record<string, { iconBg: string; accent: string; hover: string; iconText: string }> = {
    violet: {
        iconBg: 'bg-violet-500/10',
        iconText: 'text-violet-400',
        accent: 'bg-violet-500/40',
        hover: 'hover:border-violet-500/25',
    },
    sky: {
        iconBg: 'bg-sky-500/10',
        iconText: 'text-sky-400',
        accent: 'bg-sky-500/40',
        hover: 'hover:border-sky-500/25',
    },
    green: {
        iconBg: 'bg-green-500/10',
        iconText: 'text-green-400',
        accent: 'bg-green-500/40',
        hover: 'hover:border-green-500/25',
    },
    red: {
        iconBg: 'bg-red-500/10',
        iconText: 'text-red-400',
        accent: 'bg-red-500/40',
        hover: 'hover:border-red-500/25',
    },
    amber: {
        iconBg: 'bg-amber-500/10',
        iconText: 'text-amber-400',
        accent: 'bg-amber-500/40',
        hover: 'hover:border-amber-500/25',
    },
    zinc: {
        iconBg: 'bg-zinc-500/10',
        iconText: 'text-zinc-400',
        accent: 'bg-zinc-500/40',
        hover: 'hover:border-zinc-500/25',
    },
};

const c = colorMap[color] || colorMap.violet;
---

<article
    class:list={[
        "bg-zinc-800/50 rounded-xl border border-white/6 p-4",
        "transition-all duration-200",
        c.hover,
        "hover:bg-zinc-800/70",
    ]}
>
    <div class="flex items-center justify-between">
        <div class:list={["rounded-lg p-1.5", c.iconBg, c.iconText]}>
            <slot />
        </div>
        <span id={id} class="text-3xl font-bold tabular-nums tracking-tight transition-opacity duration-300">{number}</span>
    </div>
    <p class="mt-3 text-xs font-medium uppercase tracking-wide text-zinc-400">{text}</p>
    <div class:list={["h-0.5 w-8 rounded-full mt-2", c.accent]}></div>
</article>
